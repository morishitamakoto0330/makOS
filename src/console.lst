     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_readfat
    13 00000000                                 	EXTERN	_putfonts8_asc_sht
    14 00000000                                 	EXTERN	_io_cli
    15 00000000                                 	EXTERN	_fifo32_status
    16 00000000                                 	EXTERN	_fifo32_get
    17 00000000                                 	EXTERN	_io_sti
    18 00000000                                 	EXTERN	_boxfill8
    19 00000000                                 	EXTERN	_sheet_refresh
    20 00000000                                 	EXTERN	_sprintf
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_file_loadfile
    23 00000000                                 	EXTERN	_memman_free_4k
    24 00000000                                 	EXTERN	_io_hlt
    25 00000000                                 	EXTERN	_task_sleep
    26 00000000                                 [FILE "console.c"]
    27                                          [SECTION .data]
    28 00000000                                 LC0:
    29 00000000 3E 00                           	DB	">",0x00
    30 00000002                                 LC1:
    31 00000002 20 00                           	DB	" ",0x00
    32 00000004                                 LC2:
    33 00000004 6D 65 6D 00                     	DB	"mem",0x00
    34 00000008                                 LC3:
    35 00000008 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x00
       00000012 4D 42 00 
    36 00000015                                 LC4:
    37 00000015 66 72 65 65 20 25 64 4B 42 00   	DB	"free %dKB",0x00
    38 0000001F                                 LC5:
    39 0000001F 63 6C 73 00                     	DB	"cls",0x00
    40 00000023                                 LC6:
    41 00000023 6C 73 00                        	DB	"ls",0x00
    42 00000026                                 LC7:
    43 00000026 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x00
       00000030 78 74 20 20 20 25 37 64 00 
    44 00000039                                 LC8:
    45 00000039 63 61 74 20 00                  	DB	"cat ",0x00
    46 0000003E                                 LC9:
    47 0000003E 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x00
       00000048 6F 75 6E 64 2E 00 
    48 0000004E                                 LC10:
    49 0000004E 6D 6F 72 65 20 00               	DB	"more ",0x00
    50 00000054                                 LC11:
    51 00000054 3A 00                           	DB	":",0x00
    52 00000056                                 LC12:
    53 00000056 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x00
       00000060 64 2E 00 
    54                                          [SECTION .text]
    55 00000000                                 	GLOBAL	_console_task
    56 00000000                                 _console_task:
    57 00000000 55                              	PUSH	EBP
    58 00000001 89 E5                           	MOV	EBP,ESP
    59 00000003 57                              	PUSH	EDI
    60 00000004 56                              	PUSH	ESI
    61 00000005 BF 00000010                     	MOV	EDI,16
    62 0000000A 53                              	PUSH	EBX
    63 0000000B 81 EC 00000264                  	SUB	ESP,612
    64 00000011 E8 [00000000]                   	CALL	_task_now
    65 00000016 68 00002D00                     	PUSH	11520
    66 0000001B 89 85 FFFFFDAC                  	MOV	DWORD [-596+EBP],EAX
    67 00000021 68 003C0000                     	PUSH	3932160
    68 00000026 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
    69 00000029 C1 E8 04                        	SHR	EAX,4
    70 0000002C C7 85 FFFFFDA8 0000001C         	MOV	DWORD [-600+EBP],28
    71 00000036 C7 85 FFFFFDA4 FFFFFFFF         	MOV	DWORD [-604+EBP],-1
    72 00000040 89 85 FFFFFDA0                  	MOV	DWORD [-608+EBP],EAX
    73 00000046 E8 [00000000]                   	CALL	_memman_alloc_4k
    74 0000004B FF B5 FFFFFDAC                  	PUSH	DWORD [-596+EBP]
    75 00000051 89 85 FFFFFD90                  	MOV	DWORD [-624+EBP],EAX
    76 00000057 8B 9D FFFFFDAC                  	MOV	EBX,DWORD [-596+EBP]
    77 0000005D 8D 85 FFFFFDF4                  	LEA	EAX,DWORD [-524+EBP]
    78 00000063 83 C3 10                        	ADD	EBX,16
    79 00000066 50                              	PUSH	EAX
    80 00000067 68 00000080                     	PUSH	128
    81 0000006C 53                              	PUSH	EBX
    82 0000006D E8 [00000000]                   	CALL	_fifo32_init
    83 00000072 E8 [00000000]                   	CALL	_timer_alloc
    84 00000077 6A 01                           	PUSH	1
    85 00000079 53                              	PUSH	EBX
    86 0000007A 50                              	PUSH	EAX
    87 0000007B 89 85 FFFFFDB0                  	MOV	DWORD [-592+EBP],EAX
    88 00000081 E8 [00000000]                   	CALL	_timer_init
    89 00000086 83 C4 24                        	ADD	ESP,36
    90 00000089 6A 32                           	PUSH	50
    91 0000008B FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
    92 00000091 E8 [00000000]                   	CALL	_timer_settime
    93 00000096 68 00100200                     	PUSH	1049088
    94 0000009B FF B5 FFFFFD90                  	PUSH	DWORD [-624+EBP]
    95 000000A1 E8 [00000000]                   	CALL	_file_readfat
    96 000000A6 6A 01                           	PUSH	1
    97 000000A8 68 [00000000]                   	PUSH	LC0
    98 000000AD 6A 00                           	PUSH	0
    99 000000AF 6A 07                           	PUSH	7
   100 000000B1 6A 1C                           	PUSH	28
   101 000000B3 6A 08                           	PUSH	8
   102 000000B5 FF 75 08                        	PUSH	DWORD [8+EBP]
   103 000000B8 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   104 000000BD 83 C4 2C                        	ADD	ESP,44
   105 000000C0                                 L2:
   106 000000C0 E8 [00000000]                   	CALL	_io_cli
   107 000000C5 8B B5 FFFFFDAC                  	MOV	ESI,DWORD [-596+EBP]
   108 000000CB 83 C6 10                        	ADD	ESI,16
   109 000000CE 56                              	PUSH	ESI
   110 000000CF E8 [00000000]                   	CALL	_fifo32_status
   111 000000D4 5A                              	POP	EDX
   112 000000D5 85 C0                           	TEST	EAX,EAX
   113 000000D7 0F 84 00000ADA                  	JE	L183
   114 000000DD 56                              	PUSH	ESI
   115 000000DE E8 [00000000]                   	CALL	_fifo32_get
   116 000000E3 89 C3                           	MOV	EBX,EAX
   117 000000E5 E8 [00000000]                   	CALL	_io_sti
   118 000000EA 58                              	POP	EAX
   119 000000EB 83 FB 01                        	CMP	EBX,1
   120 000000EE 0F 8E 00000A61                  	JLE	L184
   121 000000F4                                 L7:
   122 000000F4 83 FB 02                        	CMP	EBX,2
   123 000000F7 0F 84 00000A49                  	JE	L185
   124 000000FD                                 L12:
   125 000000FD 83 FB 03                        	CMP	EBX,3
   126 00000100 0F 84 00000A12                  	JE	L186
   127 00000106                                 L13:
   128 00000106 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
   129 0000010C 3D 000000FF                     	CMP	EAX,255
   130 00000111 77 5F                           	JA	L14
   131 00000113 81 FB 00000108                  	CMP	EBX,264
   132 00000119 0F 84 000009CE                  	JE	L187
   133 0000011F 81 FB 0000010A                  	CMP	EBX,266
   134 00000125 0F 84 000000A2                  	JE	L188
   135 0000012B 3B 7D 10                        	CMP	EDI,DWORD [16+EBP]
   136 0000012E 73 42                           	JAE	L14
   137 00000130 89 F8                           	MOV	EAX,EDI
   138 00000132 BA 00000008                     	MOV	EDX,8
   139 00000137 89 D6                           	MOV	ESI,EDX
   140 00000139 6A 01                           	PUSH	1
   141 0000013B 99                              	CDQ
   142 0000013C F7 FE                           	IDIV	ESI
   143 0000013E 88 9D FFFFFDD4                  	MOV	BYTE [-556+EBP],BL
   144 00000144 88 9C 05 FFFFFDB2               	MOV	BYTE [-590+EBP+EAX*1],BL
   145 0000014B 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   146 00000151 50                              	PUSH	EAX
   147 00000152 6A 00                           	PUSH	0
   148 00000154 6A 07                           	PUSH	7
   149 00000156 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   150 0000015C 57                              	PUSH	EDI
   151 0000015D 83 C7 08                        	ADD	EDI,8
   152 00000160 FF 75 08                        	PUSH	DWORD [8+EBP]
   153 00000163 C6 85 FFFFFDD5 00               	MOV	BYTE [-555+EBP],0
   154 0000016A E8 [00000000]                   	CALL	_putfonts8_asc_sht
   155 0000016F                                 L182:
   156 0000016F 83 C4 1C                        	ADD	ESP,28
   157 00000172                                 L14:
   158 00000172 83 BD FFFFFDA4 00               	CMP	DWORD [-604+EBP],0
   159 00000179 78 2D                           	JS	L156
   160 0000017B 8B 85 FFFFFDA8                  	MOV	EAX,DWORD [-600+EBP]
   161 00000181 83 C0 0F                        	ADD	EAX,15
   162 00000184 50                              	PUSH	EAX
   163 00000185 8D 47 07                        	LEA	EAX,DWORD [7+EDI]
   164 00000188 50                              	PUSH	EAX
   165 00000189 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   166 0000018F 57                              	PUSH	EDI
   167 00000190 0F B6 85 FFFFFDA4               	MOVZX	EAX,BYTE [-604+EBP]
   168 00000197 50                              	PUSH	EAX
   169 00000198 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   170 0000019B FF 70 04                        	PUSH	DWORD [4+EAX]
   171 0000019E FF 30                           	PUSH	DWORD [EAX]
   172 000001A0 E8 [00000000]                   	CALL	_boxfill8
   173 000001A5 83 C4 1C                        	ADD	ESP,28
   174 000001A8                                 L156:
   175 000001A8 8B 85 FFFFFDA8                  	MOV	EAX,DWORD [-600+EBP]
   176 000001AE 83 C0 10                        	ADD	EAX,16
   177 000001B1 50                              	PUSH	EAX
   178 000001B2 8D 47 08                        	LEA	EAX,DWORD [8+EDI]
   179 000001B5 50                              	PUSH	EAX
   180 000001B6 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   181 000001BC 57                              	PUSH	EDI
   182 000001BD FF 75 08                        	PUSH	DWORD [8+EBP]
   183 000001C0 E8 [00000000]                   	CALL	_sheet_refresh
   184 000001C5 83 C4 14                        	ADD	ESP,20
   185 000001C8 E9 FFFFFEF3                     	JMP	L2
   186 000001CD                                 L188:
   187 000001CD 6A 01                           	PUSH	1
   188 000001CF 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   189 000001D5 68 [00000002]                   	PUSH	LC1
   190 000001DA 6A 00                           	PUSH	0
   191 000001DC 6A 07                           	PUSH	7
   192 000001DE FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   193 000001E4 57                              	PUSH	EDI
   194 000001E5 FF 75 08                        	PUSH	DWORD [8+EBP]
   195 000001E8 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   196 000001ED 89 F8                           	MOV	EAX,EDI
   197 000001EF BA 00000008                     	MOV	EDX,8
   198 000001F4 BF [00000004]                   	MOV	EDI,LC2
   199 000001F9 89 D3                           	MOV	EBX,EDX
   200 000001FB 99                              	CDQ
   201 000001FC F7 FB                           	IDIV	EBX
   202 000001FE C6 84 05 FFFFFDB2 00            	MOV	BYTE [-590+EBP+EAX*1],0
   203 00000206 FF 75 14                        	PUSH	DWORD [20+EBP]
   204 00000209 FF 75 10                        	PUSH	DWORD [16+EBP]
   205 0000020C FF 75 08                        	PUSH	DWORD [8+EBP]
   206 0000020F FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   207 00000215 E8 000009B3                     	CALL	_cons_newline
   208 0000021A B9 00000004                     	MOV	ECX,4
   209 0000021F FC                              	CLD
   210 00000220 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   211 00000226 F3                              	REPE
   212 00000227 A6                              	CMPSB
   213 00000228 0F 97 C2                        	SETA	DL
   214 0000022B 0F 92 C0                        	SETB	AL
   215 0000022E 83 C4 2C                        	ADD	ESP,44
   216 00000231 38 C2                           	CMP	DL,AL
   217 00000233 0F 85 000000D8                  	JNE	L19
   218 00000239 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   219 0000023C 8D 9D FFFFFDD4                  	LEA	EBX,DWORD [-556+EBP]
   220 00000242 C1 E8 14                        	SHR	EAX,20
   221 00000245 50                              	PUSH	EAX
   222 00000246 68 [00000008]                   	PUSH	LC3
   223 0000024B 53                              	PUSH	EBX
   224 0000024C E8 [00000000]                   	CALL	_sprintf
   225 00000251 6A 1E                           	PUSH	30
   226 00000253 53                              	PUSH	EBX
   227 00000254 6A 00                           	PUSH	0
   228 00000256 6A 07                           	PUSH	7
   229 00000258 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   230 0000025E 6A 08                           	PUSH	8
   231 00000260 FF 75 08                        	PUSH	DWORD [8+EBP]
   232 00000263 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   233 00000268 83 C4 28                        	ADD	ESP,40
   234 0000026B FF 75 14                        	PUSH	DWORD [20+EBP]
   235 0000026E FF 75 10                        	PUSH	DWORD [16+EBP]
   236 00000271 FF 75 08                        	PUSH	DWORD [8+EBP]
   237 00000274 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   238 0000027A E8 0000094E                     	CALL	_cons_newline
   239 0000027F 68 003C0000                     	PUSH	3932160
   240 00000284 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   241 0000028A E8 [00000000]                   	CALL	_memman_total
   242 0000028F C1 E8 0A                        	SHR	EAX,10
   243 00000292 89 04 24                        	MOV	DWORD [ESP],EAX
   244 00000295 68 [00000015]                   	PUSH	LC4
   245 0000029A 53                              	PUSH	EBX
   246 0000029B E8 [00000000]                   	CALL	_sprintf
   247 000002A0 6A 1E                           	PUSH	30
   248 000002A2 53                              	PUSH	EBX
   249 000002A3 6A 00                           	PUSH	0
   250 000002A5 6A 07                           	PUSH	7
   251 000002A7 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   252 000002AD 6A 08                           	PUSH	8
   253 000002AF FF 75 08                        	PUSH	DWORD [8+EBP]
   254 000002B2 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   255 000002B7 83 C4 38                        	ADD	ESP,56
   256 000002BA FF 75 14                        	PUSH	DWORD [20+EBP]
   257 000002BD FF 75 10                        	PUSH	DWORD [16+EBP]
   258 000002C0 FF 75 08                        	PUSH	DWORD [8+EBP]
   259 000002C3 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   260 000002C9 E8 000008FF                     	CALL	_cons_newline
   261 000002CE FF 75 14                        	PUSH	DWORD [20+EBP]
   262 000002D1 FF 75 10                        	PUSH	DWORD [16+EBP]
   263 000002D4 FF 75 08                        	PUSH	DWORD [8+EBP]
   264 000002D7 50                              	PUSH	EAX
   265 000002D8 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   266 000002DE E8 000008EA                     	CALL	_cons_newline
   267 000002E3 83 C4 20                        	ADD	ESP,32
   268 000002E6 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   269 000002EC                                 L20:
   270 000002EC 6A 01                           	PUSH	1
   271 000002EE BF 00000010                     	MOV	EDI,16
   272 000002F3 68 [00000000]                   	PUSH	LC0
   273 000002F8 6A 00                           	PUSH	0
   274 000002FA 6A 07                           	PUSH	7
   275 000002FC FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   276 00000302 6A 08                           	PUSH	8
   277 00000304 FF 75 08                        	PUSH	DWORD [8+EBP]
   278 00000307 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   279 0000030C E9 FFFFFE5E                     	JMP	L182
   280 00000311                                 L19:
   281 00000311 FC                              	CLD
   282 00000312 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   283 00000318 BF [0000001F]                   	MOV	EDI,LC5
   284 0000031D B9 00000004                     	MOV	ECX,4
   285 00000322 F3                              	REPE
   286 00000323 A6                              	CMPSB
   287 00000324 0F 85 00000081                  	JNE	L21
   288 0000032A 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   289 0000032D BE 0000001C                     	MOV	ESI,28
   290 00000332 83 C0 1C                        	ADD	EAX,28
   291 00000335 39 C6                           	CMP	ESI,EAX
   292 00000337 73 46                           	JAE	L158
   293 00000339                                 L31:
   294 00000339 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   295 0000033C C7 85 FFFFFD94 00000008         	MOV	DWORD [-620+EBP],8
   296 00000346 83 C1 08                        	ADD	ECX,8
   297 00000349 39 8D FFFFFD94                  	CMP	DWORD [-620+EBP],ECX
   298 0000034F 73 23                           	JAE	L160
   299 00000351                                 L30:
   300 00000351 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   301 00000354 89 F0                           	MOV	EAX,ESI
   302 00000356 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   303 0000035A 03 85 FFFFFD94                  	ADD	EAX,DWORD [-620+EBP]
   304 00000360 8B 12                           	MOV	EDX,DWORD [EDX]
   305 00000362 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   306 00000366 FF 85 FFFFFD94                  	INC	DWORD [-620+EBP]
   307 0000036C 39 8D FFFFFD94                  	CMP	DWORD [-620+EBP],ECX
   308 00000372 72 DD                           	JB	L30
   309 00000374                                 L160:
   310 00000374 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   311 00000377 46                              	INC	ESI
   312 00000378 83 C0 1C                        	ADD	EAX,28
   313 0000037B 39 C6                           	CMP	ESI,EAX
   314 0000037D 72 BA                           	JB	L31
   315 0000037F                                 L158:
   316 0000037F 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   317 00000382 83 C0 1C                        	ADD	EAX,28
   318 00000385 50                              	PUSH	EAX
   319 00000386 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   320 00000389 83 C0 08                        	ADD	EAX,8
   321 0000038C 50                              	PUSH	EAX
   322 0000038D 6A 1C                           	PUSH	28
   323 0000038F 6A 08                           	PUSH	8
   324 00000391 FF 75 08                        	PUSH	DWORD [8+EBP]
   325 00000394 E8 [00000000]                   	CALL	_sheet_refresh
   326 00000399 83 C4 14                        	ADD	ESP,20
   327 0000039C C7 85 FFFFFDA8 0000001C         	MOV	DWORD [-600+EBP],28
   328 000003A6 E9 FFFFFF41                     	JMP	L20
   329 000003AB                                 L21:
   330 000003AB FC                              	CLD
   331 000003AC 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   332 000003B2 BF [00000023]                   	MOV	EDI,LC6
   333 000003B7 B9 00000003                     	MOV	ECX,3
   334 000003BC F3                              	REPE
   335 000003BD A6                              	CMPSB
   336 000003BE 0F 85 00000113                  	JNE	L33
   337 000003C4 C7 85 FFFFFD94 00000000         	MOV	DWORD [-620+EBP],0
   338 000003CE 31 DB                           	XOR	EBX,EBX
   339 000003D0                                 L47:
   340 000003D0 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   341 000003D6 84 C0                           	TEST	AL,AL
   342 000003D8 0F 84 000000CB                  	JE	L35
   343 000003DE 3C E5                           	CMP	AL,-27
   344 000003E0 0F 84 000000AA                  	JE	L36
   345 000003E6 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   346 000003ED 0F 85 0000009D                  	JNE	L36
   347 000003F3 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   348 000003F9 68 [00000026]                   	PUSH	LC7
   349 000003FE 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   350 00000404 50                              	PUSH	EAX
   351 00000405 31 F6                           	XOR	ESI,ESI
   352 00000407 E8 [00000000]                   	CALL	_sprintf
   353 0000040C 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   354 00000412 83 C4 0C                        	ADD	ESP,12
   355 00000415                                 L45:
   356 00000415 8A 02                           	MOV	AL,BYTE [EDX]
   357 00000417 42                              	INC	EDX
   358 00000418 88 84 35 FFFFFDD4               	MOV	BYTE [-556+EBP+ESI*1],AL
   359 0000041F 46                              	INC	ESI
   360 00000420 83 FE 07                        	CMP	ESI,7
   361 00000423 7E F0                           	JLE	L45
   362 00000425 80 BB 00102608 20               	CMP	BYTE [1058312+EBX],32
   363 0000042C 0F 84 00000099                  	JE	L189
   364 00000432                                 L46:
   365 00000432 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   366 00000438 88 85 FFFFFDDD                  	MOV	BYTE [-547+EBP],AL
   367 0000043E 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   368 00000444 88 85 FFFFFDDE                  	MOV	BYTE [-546+EBP],AL
   369 0000044A 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   370 00000450 6A 1E                           	PUSH	30
   371 00000452 88 85 FFFFFDDF                  	MOV	BYTE [-545+EBP],AL
   372 00000458 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   373 0000045E 50                              	PUSH	EAX
   374 0000045F 6A 00                           	PUSH	0
   375 00000461 6A 07                           	PUSH	7
   376 00000463 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   377 00000469 6A 08                           	PUSH	8
   378 0000046B FF 75 08                        	PUSH	DWORD [8+EBP]
   379 0000046E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   380 00000473 FF 75 14                        	PUSH	DWORD [20+EBP]
   381 00000476 FF 75 10                        	PUSH	DWORD [16+EBP]
   382 00000479 FF 75 08                        	PUSH	DWORD [8+EBP]
   383 0000047C FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   384 00000482 E8 00000746                     	CALL	_cons_newline
   385 00000487 83 C4 2C                        	ADD	ESP,44
   386 0000048A 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   387 00000490                                 L36:
   388 00000490 FF 85 FFFFFD94                  	INC	DWORD [-620+EBP]
   389 00000496 83 C3 20                        	ADD	EBX,32
   390 00000499 81 BD FFFFFD94 000000DF         	CMP	DWORD [-620+EBP],223
   391 000004A3 0F 8E FFFFFF27                  	JLE	L47
   392 000004A9                                 L35:
   393 000004A9 FF 75 14                        	PUSH	DWORD [20+EBP]
   394 000004AC FF 75 10                        	PUSH	DWORD [16+EBP]
   395 000004AF FF 75 08                        	PUSH	DWORD [8+EBP]
   396 000004B2 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   397 000004B8                                 L181:
   398 000004B8 E8 00000710                     	CALL	_cons_newline
   399 000004BD 83 C4 10                        	ADD	ESP,16
   400 000004C0 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   401 000004C6 E9 FFFFFE21                     	JMP	L20
   402 000004CB                                 L189:
   403 000004CB C6 85 FFFFFDDC 20               	MOV	BYTE [-548+EBP],32
   404 000004D2 E9 FFFFFF5B                     	JMP	L46
   405 000004D7                                 L33:
   406 000004D7 FC                              	CLD
   407 000004D8 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   408 000004DE BF [00000039]                   	MOV	EDI,LC8
   409 000004E3 B9 00000004                     	MOV	ECX,4
   410 000004E8 F3                              	REPE
   411 000004E9 A6                              	CMPSB
   412 000004EA 0F 85 0000029D                  	JNE	L49
   413 000004F0 31 F6                           	XOR	ESI,ESI
   414 000004F2                                 L54:
   415 000004F2 C6 84 35 FFFFFDD4 20            	MOV	BYTE [-556+EBP+ESI*1],32
   416 000004FA 46                              	INC	ESI
   417 000004FB 83 FE 0A                        	CMP	ESI,10
   418 000004FE 7E F2                           	JLE	L54
   419 00000500 31 F6                           	XOR	ESI,ESI
   420 00000502 C7 85 FFFFFD94 00000004         	MOV	DWORD [-620+EBP],4
   421 0000050C 80 BD FFFFFDB8 00               	CMP	BYTE [-584+EBP],0
   422 00000513 74 4A                           	JE	L56
   423 00000515                                 L63:
   424 00000515 8B 85 FFFFFD94                  	MOV	EAX,DWORD [-620+EBP]
   425 0000051B 8A 94 05 FFFFFDB4               	MOV	DL,BYTE [-588+EBP+EAX*1]
   426 00000522 80 FA 2E                        	CMP	DL,46
   427 00000525 0F 84 0000024F                  	JE	L190
   428 0000052B                                 L60:
   429 0000052B 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
   430 0000052E 88 94 35 FFFFFDD4               	MOV	BYTE [-556+EBP+ESI*1],DL
   431 00000535 3C 19                           	CMP	AL,25
   432 00000537 77 0A                           	JA	L62
   433 00000539 8D 42 E0                        	LEA	EAX,DWORD [-32+EDX]
   434 0000053C 88 84 35 FFFFFDD4               	MOV	BYTE [-556+EBP+ESI*1],AL
   435 00000543                                 L62:
   436 00000543 46                              	INC	ESI
   437 00000544                                 L57:
   438 00000544 FF 85 FFFFFD94                  	INC	DWORD [-620+EBP]
   439 0000054A 83 FE 0A                        	CMP	ESI,10
   440 0000054D 7F 10                           	JG	L56
   441 0000054F 8B 95 FFFFFD94                  	MOV	EDX,DWORD [-620+EBP]
   442 00000555 80 BC 15 FFFFFDB4 00            	CMP	BYTE [-588+EBP+EDX*1],0
   443 0000055D 75 B6                           	JNE	L63
   444 0000055F                                 L56:
   445 0000055F C7 85 FFFFFD94 00000000         	MOV	DWORD [-620+EBP],0
   446 00000569 31 C9                           	XOR	ECX,ECX
   447 0000056B                                 L77:
   448 0000056B 80 B9 00102600 00               	CMP	BYTE [1058304+ECX],0
   449 00000572 74 2D                           	JE	L65
   450 00000574 F6 81 0010260B 18               	TEST	BYTE [1058315+ECX],24
   451 0000057B 0F 85 000001DE                  	JNE	L75
   452 00000581 31 F6                           	XOR	ESI,ESI
   453 00000583                                 L76:
   454 00000583 0F B6 94 31 00102600            	MOVZX	EDX,BYTE [1058304+ECX+ESI*1]
   455 0000058B 0F BE 84 35 FFFFFDD4            	MOVSX	EAX,BYTE [-556+EBP+ESI*1]
   456 00000593 39 C2                           	CMP	EDX,EAX
   457 00000595 0F 85 000001C4                  	JNE	L75
   458 0000059B 46                              	INC	ESI
   459 0000059C 83 FE 0A                        	CMP	ESI,10
   460 0000059F 7E E2                           	JLE	L76
   461 000005A1                                 L65:
   462 000005A1 81 BD FFFFFD94 000000DF         	CMP	DWORD [-620+EBP],223
   463 000005AB 0F 8F 00000171                  	JG	L127
   464 000005B1 8B 9D FFFFFD94                  	MOV	EBX,DWORD [-620+EBP]
   465 000005B7 C1 E3 05                        	SAL	EBX,5
   466 000005BA 80 BB 00102600 00               	CMP	BYTE [1058304+EBX],0
   467 000005C1 0F 84 0000015B                  	JE	L127
   468 000005C7 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   469 000005CD 68 003C0000                     	PUSH	3932160
   470 000005D2 31 F6                           	XOR	ESI,ESI
   471 000005D4 BF 00000008                     	MOV	EDI,8
   472 000005D9 E8 [00000000]                   	CALL	_memman_alloc_4k
   473 000005DE 68 00103E00                     	PUSH	1064448
   474 000005E3 FF B5 FFFFFD90                  	PUSH	DWORD [-624+EBP]
   475 000005E9 50                              	PUSH	EAX
   476 000005EA 89 85 FFFFFD98                  	MOV	DWORD [-616+EBP],EAX
   477 000005F0 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   478 000005F6 0F B7 83 0010261A               	MOVZX	EAX,WORD [1058330+EBX]
   479 000005FD 50                              	PUSH	EAX
   480 000005FE E8 [00000000]                   	CALL	_file_loadfile
   481 00000603 83 C4 1C                        	ADD	ESP,28
   482 00000606 3B B3 0010261C                  	CMP	ESI,DWORD [1058332+EBX]
   483 0000060C 73 6A                           	JAE	L170
   484 0000060E                                 L95:
   485 0000060E 8B 9D FFFFFD98                  	MOV	EBX,DWORD [-616+EBP]
   486 00000614 8A 04 1E                        	MOV	AL,BYTE [ESI+EBX*1]
   487 00000617 88 85 FFFFFDD4                  	MOV	BYTE [-556+EBP],AL
   488 0000061D 3C 09                           	CMP	AL,9
   489 0000061F C6 85 FFFFFDD5 00               	MOV	BYTE [-555+EBP],0
   490 00000626 0F 84 0000009B                  	JE	L84
   491 0000062C 8A 85 FFFFFDD4                  	MOV	AL,BYTE [-556+EBP]
   492 00000632 3C 0A                           	CMP	AL,10
   493 00000634 74 6D                           	JE	L178
   494 00000636 3C 0D                           	CMP	AL,13
   495 00000638 74 2C                           	JE	L81
   496 0000063A 6A 01                           	PUSH	1
   497 0000063C 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   498 00000642 50                              	PUSH	EAX
   499 00000643 6A 00                           	PUSH	0
   500 00000645 6A 07                           	PUSH	7
   501 00000647 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   502 0000064D 57                              	PUSH	EDI
   503 0000064E 83 C7 08                        	ADD	EDI,8
   504 00000651 FF 75 08                        	PUSH	DWORD [8+EBP]
   505 00000654 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   506 00000659 83 C4 1C                        	ADD	ESP,28
   507 0000065C 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   508 0000065F 83 C0 08                        	ADD	EAX,8
   509 00000662 39 C7                           	CMP	EDI,EAX
   510 00000664 74 3D                           	JE	L178
   511 00000666                                 L81:
   512 00000666 8B 85 FFFFFD94                  	MOV	EAX,DWORD [-620+EBP]
   513 0000066C 46                              	INC	ESI
   514 0000066D C1 E0 05                        	SAL	EAX,5
   515 00000670 3B B0 0010261C                  	CMP	ESI,DWORD [1058332+EAX]
   516 00000676 72 96                           	JB	L95
   517 00000678                                 L170:
   518 00000678 C1 A5 FFFFFD94 05               	SAL	DWORD [-620+EBP],5
   519 0000067F 8B B5 FFFFFD94                  	MOV	ESI,DWORD [-620+EBP]
   520 00000685 FF B6 0010261C                  	PUSH	DWORD [1058332+ESI]
   521 0000068B                                 L180:
   522 0000068B FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
   523 00000691 68 003C0000                     	PUSH	3932160
   524 00000696 E8 [00000000]                   	CALL	_memman_free_4k
   525 0000069B 83 C4 0C                        	ADD	ESP,12
   526 0000069E E9 FFFFFC49                     	JMP	L20
   527 000006A3                                 L178:
   528 000006A3 FF 75 14                        	PUSH	DWORD [20+EBP]
   529 000006A6 FF 75 10                        	PUSH	DWORD [16+EBP]
   530 000006A9 FF 75 08                        	PUSH	DWORD [8+EBP]
   531 000006AC FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   532 000006B2 BF 00000008                     	MOV	EDI,8
   533 000006B7 E8 00000511                     	CALL	_cons_newline
   534 000006BC 83 C4 10                        	ADD	ESP,16
   535 000006BF 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   536 000006C5 EB 9F                           	JMP	L81
   537 000006C7                                 L84:
   538 000006C7 6A 01                           	PUSH	1
   539 000006C9 68 [00000002]                   	PUSH	LC1
   540 000006CE 6A 00                           	PUSH	0
   541 000006D0 6A 07                           	PUSH	7
   542 000006D2 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   543 000006D8 57                              	PUSH	EDI
   544 000006D9 83 C7 08                        	ADD	EDI,8
   545 000006DC FF 75 08                        	PUSH	DWORD [8+EBP]
   546 000006DF E8 [00000000]                   	CALL	_putfonts8_asc_sht
   547 000006E4 83 C4 1C                        	ADD	ESP,28
   548 000006E7 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   549 000006EA 83 C0 08                        	ADD	EAX,8
   550 000006ED 39 C7                           	CMP	EDI,EAX
   551 000006EF 74 0D                           	JE	L191
   552 000006F1                                 L87:
   553 000006F1 8D 47 F8                        	LEA	EAX,DWORD [-8+EDI]
   554 000006F4 83 E0 1F                        	AND	EAX,31
   555 000006F7 75 CE                           	JNE	L84
   556 000006F9 E9 FFFFFF68                     	JMP	L81
   557 000006FE                                 L191:
   558 000006FE FF 75 14                        	PUSH	DWORD [20+EBP]
   559 00000701 FF 75 10                        	PUSH	DWORD [16+EBP]
   560 00000704 FF 75 08                        	PUSH	DWORD [8+EBP]
   561 00000707 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   562 0000070D BF 00000008                     	MOV	EDI,8
   563 00000712 E8 000004B6                     	CALL	_cons_newline
   564 00000717 83 C4 10                        	ADD	ESP,16
   565 0000071A 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   566 00000720 EB CF                           	JMP	L87
   567 00000722                                 L127:
   568 00000722 6A 0F                           	PUSH	15
   569 00000724 68 [0000003E]                   	PUSH	LC9
   570 00000729 6A 00                           	PUSH	0
   571 0000072B 6A 07                           	PUSH	7
   572 0000072D FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   573 00000733 6A 08                           	PUSH	8
   574 00000735 FF 75 08                        	PUSH	DWORD [8+EBP]
   575 00000738 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   576 0000073D FF 75 14                        	PUSH	DWORD [20+EBP]
   577 00000740 FF 75 10                        	PUSH	DWORD [16+EBP]
   578 00000743 FF 75 08                        	PUSH	DWORD [8+EBP]
   579 00000746 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   580 0000074C E8 0000047C                     	CALL	_cons_newline
   581 00000751 83 C4 2C                        	ADD	ESP,44
   582 00000754 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   583 0000075A E9 FFFFFB8D                     	JMP	L20
   584 0000075F                                 L75:
   585 0000075F FF 85 FFFFFD94                  	INC	DWORD [-620+EBP]
   586 00000765 83 C1 20                        	ADD	ECX,32
   587 00000768 81 BD FFFFFD94 000000DF         	CMP	DWORD [-620+EBP],223
   588 00000772 0F 8E FFFFFDF3                  	JLE	L77
   589 00000778 EB A8                           	JMP	L127
   590 0000077A                                 L190:
   591 0000077A 83 FE 08                        	CMP	ESI,8
   592 0000077D 0F 8F FFFFFDA8                  	JG	L60
   593 00000783 BE 00000008                     	MOV	ESI,8
   594 00000788 E9 FFFFFDB7                     	JMP	L57
   595 0000078D                                 L49:
   596 0000078D FC                              	CLD
   597 0000078E 8D B5 FFFFFDB4                  	LEA	ESI,DWORD [-588+EBP]
   598 00000794 BF [0000004E]                   	MOV	EDI,LC10
   599 00000799 B9 00000005                     	MOV	ECX,5
   600 0000079E F3                              	REPE
   601 0000079F A6                              	CMPSB
   602 000007A0 0F 85 000002F3                  	JNE	L98
   603 000007A6 31 F6                           	XOR	ESI,ESI
   604 000007A8                                 L103:
   605 000007A8 C6 84 35 FFFFFDD4 20            	MOV	BYTE [-556+EBP+ESI*1],32
   606 000007B0 46                              	INC	ESI
   607 000007B1 83 FE 0A                        	CMP	ESI,10
   608 000007B4 7E F2                           	JLE	L103
   609 000007B6 31 F6                           	XOR	ESI,ESI
   610 000007B8 C7 85 FFFFFD94 00000005         	MOV	DWORD [-620+EBP],5
   611 000007C2 80 BD FFFFFDB9 00               	CMP	BYTE [-583+EBP],0
   612 000007C9 74 4A                           	JE	L105
   613 000007CB                                 L112:
   614 000007CB 8B 85 FFFFFD94                  	MOV	EAX,DWORD [-620+EBP]
   615 000007D1 8A 94 05 FFFFFDB4               	MOV	DL,BYTE [-588+EBP+EAX*1]
   616 000007D8 80 FA 2E                        	CMP	DL,46
   617 000007DB 0F 84 000002A5                  	JE	L192
   618 000007E1                                 L109:
   619 000007E1 8D 42 9F                        	LEA	EAX,DWORD [-97+EDX]
   620 000007E4 88 94 35 FFFFFDD4               	MOV	BYTE [-556+EBP+ESI*1],DL
   621 000007EB 3C 19                           	CMP	AL,25
   622 000007ED 77 0A                           	JA	L111
   623 000007EF 8D 42 E0                        	LEA	EAX,DWORD [-32+EDX]
   624 000007F2 88 84 35 FFFFFDD4               	MOV	BYTE [-556+EBP+ESI*1],AL
   625 000007F9                                 L111:
   626 000007F9 46                              	INC	ESI
   627 000007FA                                 L106:
   628 000007FA FF 85 FFFFFD94                  	INC	DWORD [-620+EBP]
   629 00000800 83 FE 0A                        	CMP	ESI,10
   630 00000803 7F 10                           	JG	L105
   631 00000805 8B 95 FFFFFD94                  	MOV	EDX,DWORD [-620+EBP]
   632 0000080B 80 BC 15 FFFFFDB4 00            	CMP	BYTE [-588+EBP+EDX*1],0
   633 00000813 75 B6                           	JNE	L112
   634 00000815                                 L105:
   635 00000815 C7 85 FFFFFD94 00000000         	MOV	DWORD [-620+EBP],0
   636 0000081F 31 C9                           	XOR	ECX,ECX
   637 00000821                                 L126:
   638 00000821 80 B9 00102600 00               	CMP	BYTE [1058304+ECX],0
   639 00000828 74 2D                           	JE	L114
   640 0000082A F6 81 0010260B 18               	TEST	BYTE [1058315+ECX],24
   641 00000831 0F 85 00000231                  	JNE	L124
   642 00000837 31 F6                           	XOR	ESI,ESI
   643 00000839                                 L125:
   644 00000839 0F B6 94 31 00102600            	MOVZX	EDX,BYTE [1058304+ECX+ESI*1]
   645 00000841 0F BE 84 35 FFFFFDD4            	MOVSX	EAX,BYTE [-556+EBP+ESI*1]
   646 00000849 39 C2                           	CMP	EDX,EAX
   647 0000084B 0F 85 00000217                  	JNE	L124
   648 00000851 46                              	INC	ESI
   649 00000852 83 FE 0A                        	CMP	ESI,10
   650 00000855 7E E2                           	JLE	L125
   651 00000857                                 L114:
   652 00000857 81 BD FFFFFD94 000000DF         	CMP	DWORD [-620+EBP],223
   653 00000861 0F 8F FFFFFEBB                  	JG	L127
   654 00000867 8B 9D FFFFFD94                  	MOV	EBX,DWORD [-620+EBP]
   655 0000086D C1 E3 05                        	SAL	EBX,5
   656 00000870 80 BB 00102600 00               	CMP	BYTE [1058304+EBX],0
   657 00000877 0F 84 FFFFFEA5                  	JE	L127
   658 0000087D FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   659 00000883 68 003C0000                     	PUSH	3932160
   660 00000888 31 F6                           	XOR	ESI,ESI
   661 0000088A BF 00000008                     	MOV	EDI,8
   662 0000088F E8 [00000000]                   	CALL	_memman_alloc_4k
   663 00000894 68 00103E00                     	PUSH	1064448
   664 00000899 FF B5 FFFFFD90                  	PUSH	DWORD [-624+EBP]
   665 0000089F 50                              	PUSH	EAX
   666 000008A0 89 85 FFFFFD98                  	MOV	DWORD [-616+EBP],EAX
   667 000008A6 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   668 000008AC 0F B7 83 0010261A               	MOVZX	EAX,WORD [1058330+EBX]
   669 000008B3 50                              	PUSH	EAX
   670 000008B4 E8 [00000000]                   	CALL	_file_loadfile
   671 000008B9 83 C4 1C                        	ADD	ESP,28
   672 000008BC C7 85 FFFFFD9C 00000000         	MOV	DWORD [-612+EBP],0
   673 000008C6 3B B3 0010261C                  	CMP	ESI,DWORD [1058332+EBX]
   674 000008CC 0F 83 00000086                  	JAE	L177
   675 000008D2                                 L150:
   676 000008D2 8B 95 FFFFFD98                  	MOV	EDX,DWORD [-616+EBP]
   677 000008D8 31 DB                           	XOR	EBX,EBX
   678 000008DA 8A 04 16                        	MOV	AL,BYTE [ESI+EDX*1]
   679 000008DD 88 85 FFFFFDD4                  	MOV	BYTE [-556+EBP],AL
   680 000008E3 3C 09                           	CMP	AL,9
   681 000008E5 C6 85 FFFFFDD5 00               	MOV	BYTE [-555+EBP],0
   682 000008EC 0F 84 00000110                  	JE	L133
   683 000008F2 8A 85 FFFFFDD4                  	MOV	AL,BYTE [-556+EBP]
   684 000008F8 3C 0A                           	CMP	AL,10
   685 000008FA 0F 84 000000DD                  	JE	L193
   686 00000900 3C 0D                           	CMP	AL,13
   687 00000902 74 2C                           	JE	L138
   688 00000904 6A 01                           	PUSH	1
   689 00000906 8D 85 FFFFFDD4                  	LEA	EAX,DWORD [-556+EBP]
   690 0000090C 50                              	PUSH	EAX
   691 0000090D 6A 00                           	PUSH	0
   692 0000090F 6A 07                           	PUSH	7
   693 00000911 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   694 00000917 57                              	PUSH	EDI
   695 00000918 83 C7 08                        	ADD	EDI,8
   696 0000091B FF 75 08                        	PUSH	DWORD [8+EBP]
   697 0000091E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   698 00000923 83 C4 1C                        	ADD	ESP,28
   699 00000926 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   700 00000929 83 C0 08                        	ADD	EAX,8
   701 0000092C 39 C7                           	CMP	EDI,EAX
   702 0000092E 74 7B                           	JE	L179
   703 00000930                                 L138:
   704 00000930 8B 85 FFFFFDA0                  	MOV	EAX,DWORD [-608+EBP]
   705 00000936 48                              	DEC	EAX
   706 00000937 39 85 FFFFFD9C                  	CMP	DWORD [-612+EBP],EAX
   707 0000093D 7C 03                           	JL	L130
   708 0000093F 4B                              	DEC	EBX
   709 00000940 74 2E                           	JE	L194
   710 00000942                                 L130:
   711 00000942 8B 85 FFFFFD94                  	MOV	EAX,DWORD [-620+EBP]
   712 00000948 46                              	INC	ESI
   713 00000949 C1 E0 05                        	SAL	EAX,5
   714 0000094C 3B B0 0010261C                  	CMP	ESI,DWORD [1058332+EAX]
   715 00000952 0F 82 FFFFFF7A                  	JB	L150
   716 00000958                                 L177:
   717 00000958 C1 A5 FFFFFD94 05               	SAL	DWORD [-620+EBP],5
   718 0000095F 8B 9D FFFFFD94                  	MOV	EBX,DWORD [-620+EBP]
   719 00000965 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   720 0000096B E9 FFFFFD1B                     	JMP	L180
   721 00000970                                 L194:
   722 00000970 6A 01                           	PUSH	1
   723 00000972 68 [00000054]                   	PUSH	LC11
   724 00000977 6A 00                           	PUSH	0
   725 00000979 6A 07                           	PUSH	7
   726 0000097B FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   727 00000981 57                              	PUSH	EDI
   728 00000982 FF 75 08                        	PUSH	DWORD [8+EBP]
   729 00000985 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   730 0000098A 83 C4 1C                        	ADD	ESP,28
   731 0000098D                                 L146:
   732 0000098D 8B 85 FFFFFDAC                  	MOV	EAX,DWORD [-596+EBP]
   733 00000993 83 C0 10                        	ADD	EAX,16
   734 00000996 50                              	PUSH	EAX
   735 00000997 E8 [00000000]                   	CALL	_fifo32_get
   736 0000099C 5A                              	POP	EDX
   737 0000099D 3D 0000010A                     	CMP	EAX,266
   738 000009A2 74 9E                           	JE	L130
   739 000009A4 E8 [00000000]                   	CALL	_io_hlt
   740 000009A9 EB E2                           	JMP	L146
   741 000009AB                                 L179:
   742 000009AB FF 75 14                        	PUSH	DWORD [20+EBP]
   743 000009AE FF 75 10                        	PUSH	DWORD [16+EBP]
   744 000009B1 FF 75 08                        	PUSH	DWORD [8+EBP]
   745 000009B4 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   746 000009BA BF 00000008                     	MOV	EDI,8
   747 000009BF E8 00000209                     	CALL	_cons_newline
   748 000009C4 BB 00000001                     	MOV	EBX,1
   749 000009C9 FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   750 000009CF 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   751 000009D5 83 C4 10                        	ADD	ESP,16
   752 000009D8 E9 FFFFFF53                     	JMP	L138
   753 000009DD                                 L193:
   754 000009DD 83 FF 08                        	CMP	EDI,8
   755 000009E0 75 C9                           	JNE	L179
   756 000009E2 6A 01                           	PUSH	1
   757 000009E4 68 [00000002]                   	PUSH	LC1
   758 000009E9 6A 00                           	PUSH	0
   759 000009EB 6A 07                           	PUSH	7
   760 000009ED FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   761 000009F3 6A 08                           	PUSH	8
   762 000009F5 FF 75 08                        	PUSH	DWORD [8+EBP]
   763 000009F8 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   764 000009FD 83 C4 1C                        	ADD	ESP,28
   765 00000A00 EB A9                           	JMP	L179
   766 00000A02                                 L133:
   767 00000A02 6A 01                           	PUSH	1
   768 00000A04 68 [00000002]                   	PUSH	LC1
   769 00000A09 6A 00                           	PUSH	0
   770 00000A0B 6A 07                           	PUSH	7
   771 00000A0D FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   772 00000A13 57                              	PUSH	EDI
   773 00000A14 83 C7 08                        	ADD	EDI,8
   774 00000A17 FF 75 08                        	PUSH	DWORD [8+EBP]
   775 00000A1A E8 [00000000]                   	CALL	_putfonts8_asc_sht
   776 00000A1F 83 C4 1C                        	ADD	ESP,28
   777 00000A22 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   778 00000A25 83 C0 08                        	ADD	EAX,8
   779 00000A28 39 C7                           	CMP	EDI,EAX
   780 00000A2A 74 0D                           	JE	L195
   781 00000A2C                                 L136:
   782 00000A2C 8D 47 F8                        	LEA	EAX,DWORD [-8+EDI]
   783 00000A2F 83 E0 1F                        	AND	EAX,31
   784 00000A32 75 CE                           	JNE	L133
   785 00000A34 E9 FFFFFEF7                     	JMP	L138
   786 00000A39                                 L195:
   787 00000A39 FF 75 14                        	PUSH	DWORD [20+EBP]
   788 00000A3C FF 75 10                        	PUSH	DWORD [16+EBP]
   789 00000A3F FF 75 08                        	PUSH	DWORD [8+EBP]
   790 00000A42 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   791 00000A48 BF 00000008                     	MOV	EDI,8
   792 00000A4D E8 0000017B                     	CALL	_cons_newline
   793 00000A52 BB 00000001                     	MOV	EBX,1
   794 00000A57 FF 85 FFFFFD9C                  	INC	DWORD [-612+EBP]
   795 00000A5D 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   796 00000A63 83 C4 10                        	ADD	ESP,16
   797 00000A66 EB C4                           	JMP	L136
   798 00000A68                                 L124:
   799 00000A68 FF 85 FFFFFD94                  	INC	DWORD [-620+EBP]
   800 00000A6E 83 C1 20                        	ADD	ECX,32
   801 00000A71 81 BD FFFFFD94 000000DF         	CMP	DWORD [-620+EBP],223
   802 00000A7B 0F 8E FFFFFDA0                  	JLE	L126
   803 00000A81 E9 FFFFFC9C                     	JMP	L127
   804 00000A86                                 L192:
   805 00000A86 83 FE 08                        	CMP	ESI,8
   806 00000A89 0F 8F FFFFFD52                  	JG	L109
   807 00000A8F BE 00000008                     	MOV	ESI,8
   808 00000A94 E9 FFFFFD61                     	JMP	L106
   809 00000A99                                 L98:
   810 00000A99 80 BD FFFFFDB4 00               	CMP	BYTE [-588+EBP],0
   811 00000AA0 0F 84 FFFFF846                  	JE	L20
   812 00000AA6 6A 0C                           	PUSH	12
   813 00000AA8 68 [00000056]                   	PUSH	LC12
   814 00000AAD 6A 00                           	PUSH	0
   815 00000AAF 6A 07                           	PUSH	7
   816 00000AB1 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   817 00000AB7 6A 08                           	PUSH	8
   818 00000AB9 FF 75 08                        	PUSH	DWORD [8+EBP]
   819 00000ABC E8 [00000000]                   	CALL	_putfonts8_asc_sht
   820 00000AC1 FF 75 14                        	PUSH	DWORD [20+EBP]
   821 00000AC4 FF 75 10                        	PUSH	DWORD [16+EBP]
   822 00000AC7 FF 75 08                        	PUSH	DWORD [8+EBP]
   823 00000ACA FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   824 00000AD0 E8 000000F8                     	CALL	_cons_newline
   825 00000AD5 83 C4 2C                        	ADD	ESP,44
   826 00000AD8 FF 75 14                        	PUSH	DWORD [20+EBP]
   827 00000ADB FF 75 10                        	PUSH	DWORD [16+EBP]
   828 00000ADE FF 75 08                        	PUSH	DWORD [8+EBP]
   829 00000AE1 89 85 FFFFFDA8                  	MOV	DWORD [-600+EBP],EAX
   830 00000AE7 50                              	PUSH	EAX
   831 00000AE8 E9 FFFFF9CB                     	JMP	L181
   832 00000AED                                 L187:
   833 00000AED 83 FF 10                        	CMP	EDI,16
   834 00000AF0 0F 8E FFFFF67C                  	JLE	L14
   835 00000AF6 6A 01                           	PUSH	1
   836 00000AF8 68 [00000002]                   	PUSH	LC1
   837 00000AFD 6A 00                           	PUSH	0
   838 00000AFF 6A 07                           	PUSH	7
   839 00000B01 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   840 00000B07 57                              	PUSH	EDI
   841 00000B08 83 EF 08                        	SUB	EDI,8
   842 00000B0B FF 75 08                        	PUSH	DWORD [8+EBP]
   843 00000B0E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   844 00000B13 E9 FFFFF657                     	JMP	L182
   845 00000B18                                 L186:
   846 00000B18 6A 2B                           	PUSH	43
   847 00000B1A 8D 47 07                        	LEA	EAX,DWORD [7+EDI]
   848 00000B1D 50                              	PUSH	EAX
   849 00000B1E 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   850 00000B21 FF B5 FFFFFDA8                  	PUSH	DWORD [-600+EBP]
   851 00000B27 57                              	PUSH	EDI
   852 00000B28 6A 00                           	PUSH	0
   853 00000B2A FF 72 04                        	PUSH	DWORD [4+EDX]
   854 00000B2D FF 32                           	PUSH	DWORD [EDX]
   855 00000B2F E8 [00000000]                   	CALL	_boxfill8
   856 00000B34 83 C4 1C                        	ADD	ESP,28
   857 00000B37 C7 85 FFFFFDA4 FFFFFFFF         	MOV	DWORD [-604+EBP],-1
   858 00000B41 E9 FFFFF5C0                     	JMP	L13
   859 00000B46                                 L185:
   860 00000B46 C7 85 FFFFFDA4 00000007         	MOV	DWORD [-604+EBP],7
   861 00000B50 E9 FFFFF5A8                     	JMP	L12
   862 00000B55                                 L184:
   863 00000B55 85 DB                           	TEST	EBX,EBX
   864 00000B57 74 38                           	JE	L8
   865 00000B59 6A 00                           	PUSH	0
   866 00000B5B 56                              	PUSH	ESI
   867 00000B5C FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   868 00000B62 E8 [00000000]                   	CALL	_timer_init
   869 00000B67 83 C4 0C                        	ADD	ESP,12
   870 00000B6A 83 BD FFFFFDA4 00               	CMP	DWORD [-604+EBP],0
   871 00000B71 78 0A                           	JS	L10
   872 00000B73 C7 85 FFFFFDA4 00000007         	MOV	DWORD [-604+EBP],7
   873 00000B7D                                 L10:
   874 00000B7D 6A 32                           	PUSH	50
   875 00000B7F FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   876 00000B85 E8 [00000000]                   	CALL	_timer_settime
   877 00000B8A 59                              	POP	ECX
   878 00000B8B 5E                              	POP	ESI
   879 00000B8C E9 FFFFF563                     	JMP	L7
   880 00000B91                                 L8:
   881 00000B91 6A 01                           	PUSH	1
   882 00000B93 56                              	PUSH	ESI
   883 00000B94 FF B5 FFFFFDB0                  	PUSH	DWORD [-592+EBP]
   884 00000B9A E8 [00000000]                   	CALL	_timer_init
   885 00000B9F 83 C4 0C                        	ADD	ESP,12
   886 00000BA2 83 BD FFFFFDA4 00               	CMP	DWORD [-604+EBP],0
   887 00000BA9 78 D2                           	JS	L10
   888 00000BAB C7 85 FFFFFDA4 00000000         	MOV	DWORD [-604+EBP],0
   889 00000BB5 EB C6                           	JMP	L10
   890 00000BB7                                 L183:
   891 00000BB7 FF B5 FFFFFDAC                  	PUSH	DWORD [-596+EBP]
   892 00000BBD E8 [00000000]                   	CALL	_task_sleep
   893 00000BC2 E8 [00000000]                   	CALL	_io_sti
   894 00000BC7 58                              	POP	EAX
   895 00000BC8 E9 FFFFF4F3                     	JMP	L2
   896 00000BCD                                 	GLOBAL	_cons_newline
   897 00000BCD                                 _cons_newline:
   898 00000BCD 55                              	PUSH	EBP
   899 00000BCE 89 E5                           	MOV	EBP,ESP
   900 00000BD0 57                              	PUSH	EDI
   901 00000BD1 56                              	PUSH	ESI
   902 00000BD2 53                              	PUSH	EBX
   903 00000BD3 51                              	PUSH	ECX
   904 00000BD4 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   905 00000BD7 83 C0 0C                        	ADD	EAX,12
   906 00000BDA 39 45 08                        	CMP	DWORD [8+EBP],EAX
   907 00000BDD 73 0F                           	JAE	L197
   908 00000BDF 83 45 08 10                     	ADD	DWORD [8+EBP],16
   909 00000BE3                                 L198:
   910 00000BE3 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   911 00000BE6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   912 00000BE9 5B                              	POP	EBX
   913 00000BEA 5E                              	POP	ESI
   914 00000BEB 5F                              	POP	EDI
   915 00000BEC 5D                              	POP	EBP
   916 00000BED C3                              	RET
   917 00000BEE                                 L197:
   918 00000BEE BF 0000001C                     	MOV	EDI,28
   919 00000BF3 39 C7                           	CMP	EDI,EAX
   920 00000BF5 73 45                           	JAE	L220
   921 00000BF7                                 L208:
   922 00000BF7 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   923 00000BFA BE 00000008                     	MOV	ESI,8
   924 00000BFF 83 C0 08                        	ADD	EAX,8
   925 00000C02 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   926 00000C05 39 C6                           	CMP	ESI,EAX
   927 00000C07 73 28                           	JAE	L222
   928 00000C09                                 L207:
   929 00000C09 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   930 00000C0C 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   931 00000C0F 8B 4A 04                        	MOV	ECX,DWORD [4+EDX]
   932 00000C12 8B 18                           	MOV	EBX,DWORD [EAX]
   933 00000C14 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   934 00000C17 89 FA                           	MOV	EDX,EDI
   935 00000C19 0F AF C1                        	IMUL	EAX,ECX
   936 00000C1C 0F AF D1                        	IMUL	EDX,ECX
   937 00000C1F 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   938 00000C22 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   939 00000C25 46                              	INC	ESI
   940 00000C26 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   941 00000C29 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   942 00000C2C 3B 75 F0                        	CMP	ESI,DWORD [-16+EBP]
   943 00000C2F 72 D8                           	JB	L207
   944 00000C31                                 L222:
   945 00000C31 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   946 00000C34 47                              	INC	EDI
   947 00000C35 83 C0 0C                        	ADD	EAX,12
   948 00000C38 39 C7                           	CMP	EDI,EAX
   949 00000C3A 72 BB                           	JB	L208
   950 00000C3C                                 L220:
   951 00000C3C 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   952 00000C3F 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   953 00000C42 83 C7 0C                        	ADD	EDI,12
   954 00000C45 83 C0 1C                        	ADD	EAX,28
   955 00000C48 39 C7                           	CMP	EDI,EAX
   956 00000C4A 73 31                           	JAE	L224
   957 00000C4C                                 L218:
   958 00000C4C 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   959 00000C4F BE 00000008                     	MOV	ESI,8
   960 00000C54 83 C1 08                        	ADD	ECX,8
   961 00000C57 39 CE                           	CMP	ESI,ECX
   962 00000C59 73 17                           	JAE	L226
   963 00000C5B                                 L217:
   964 00000C5B 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   965 00000C5E 89 F8                           	MOV	EAX,EDI
   966 00000C60 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   967 00000C64 8B 12                           	MOV	EDX,DWORD [EDX]
   968 00000C66 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   969 00000C69 46                              	INC	ESI
   970 00000C6A 39 CE                           	CMP	ESI,ECX
   971 00000C6C C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   972 00000C70 72 E9                           	JB	L217
   973 00000C72                                 L226:
   974 00000C72 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   975 00000C75 47                              	INC	EDI
   976 00000C76 83 C0 1C                        	ADD	EAX,28
   977 00000C79 39 C7                           	CMP	EDI,EAX
   978 00000C7B 72 CF                           	JB	L218
   979 00000C7D                                 L224:
   980 00000C7D 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   981 00000C80 83 C0 1C                        	ADD	EAX,28
   982 00000C83 50                              	PUSH	EAX
   983 00000C84 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   984 00000C87 83 C0 08                        	ADD	EAX,8
   985 00000C8A 50                              	PUSH	EAX
   986 00000C8B 6A 1C                           	PUSH	28
   987 00000C8D 6A 08                           	PUSH	8
   988 00000C8F FF 75 0C                        	PUSH	DWORD [12+EBP]
   989 00000C92 E8 [00000000]                   	CALL	_sheet_refresh
   990 00000C97 83 C4 14                        	ADD	ESP,20
   991 00000C9A E9 FFFFFF44                     	JMP	L198
